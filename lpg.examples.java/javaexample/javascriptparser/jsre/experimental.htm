<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<title>Experimental Page for Fooling Around with JavaScript</title>
</head>

<body>

<script language="JavaScript">
document.write("<h2>Table of Factorials</h2>");
for(i = 1, fact = 1; i < 10; i++, fact *= i) {
	document.write(i + "! = " + fact);
	document.write("<br>");
}
</script>

<form>
<input type="button"
		value = "Click here"
		onClick = "alert('You clicked the button')">
</form>

<script language="JavaScript">
	var regExp = new RegExp(" 123 ");
	document.write(regExp);
</script>

<!--
HTML form for computation of mortgage payments
-->
<form name="loandata">
  <table>
    <tr><TD colspan=3><BIG><B>Enter Loan Information:</B></big></td></tr>
    <tr>
      <td>1)</td>
      <td>Amount of the loan (any currency):</td>
      <td><input type=text name=principal size=12 onChange="calculate()"></td>
    </tr>
	<tr>
	  <td>2)</td>
	  <td>Annual percentage rate of interest:</td>
	  <td><input type=text name=interest size=12 onChange="calculate()"></td>
	</tr>
	<tr>
	  <td>3)</td>
	  <td>Repayment period in years:</td>
	  <td><input type=text name=years size=12 onChange="calculate()"></td>
	</tr>
	<tr><td colspan=3>
	  <big><b>
	    <input type=button value="Compute" onClick="foo()">
	    Payment Information:
	  </b></big>
	</td></tr>
	<tr>
	  <td>4)</td>
	  <td>Your monthly payment will be:</td>
	  <td><input type=text name=payment size=12></td>
	</tr>
	<tr>
	  <td>5)</td>
	  <td>Your total payment will be:</td>
	  <td><input type=text name=total size=12></td>
	</tr>
	<tr>
	  <td>6)</td>
	  <td>Your total interest payments will be:</td>
	  <td><input type=text name=totalinterest size=12></td>
	<tr>
  </table>
</form>

<!--
JavaScript to compute values for above form
-->
<script language="JavaScript">

function foo() {
  var tmp = "tmp value";
  var principal = document.loandata.principal.value;
  var interest = document.loandata.interest.value / 100 / 12;
  var payments = document.loandata.years.value * 12;
  
  var x = Math.pow(1 + interest, payments);
  var monthly = (principal * x * interest)/(x-1);
  
  	if (!isNaN(monthly) &&
	   (monthly != Number.POSITIVE_INFINITY) &&
	   (monthly != Number.NEGATIVE_INFINITY))
	{
	  document.loandata.payment.value = round(monthly);
	  document.loandata.total.value = round(monthly * payments);
	  document.loandata.totalinterest.value = round(monthly * payments - principal);
	  
//	  alert("Is a number!");
	  

	} else {
	
	  document.loandata.payment.value = "Couldn't compute";
	  document.loandata.total.value = "Couldn't compute";
	  document.loandata.totalinterest.value = "Couldn't compute";

//	  alert("Is not a number!");
	}
 
}

/*
function calculate() {
	// comments ...
	var principal = document.loandata.principal.value;
	var interest = document.loandata.interest.value / 100 / 12;
	var payments = document.loandata.years.value * 12;
	
	var x = Math.pow(1 + interest, payments);
	var monthly = (principal * x * interest)/(x-1);
	
	if (isNaN(monthly) &&
	   (monthly != Number.POSITIVE_INFINITY) &&
	   (monthly != Number.NEGATIVE_INFINITY))
	{
	  document.loandata.payment.value = round(monthly);
	  document.loandata.total.value = round(monthly * payments;
	  document.loandata.totalinterest.value = round(monthly * payments - principal);
	} else {
	  document.loandata.payment.value = "Couldn't compute";
	  document.loandata.total.value = "Couldn't compute";
	  document.loandata.totalinterest.value = "Couldn't compute";
	}
}
*/

function round(x) {
  return Math.round(x*100/100);
}
</script>




</body>
</html>
